!function(e,t){function l(l,s,a){var i=l.dataset.id,n=t.getElementById(i),o=n.querySelector("td").nextElementSibling;return"boolean"!=typeof s||s?(o||(o=t.createElement("td"),n.appendChild(o)),o.rowSpan=a,void(o.innerHTML=s)):(o&&n.removeChild(o),void e.localStorage.setItem(i,""))}function s(e){a.bind(e)()}function a(){var t=this.parentNode,s=t.querySelectorAll("td");if([].forEach.call(s,function(e){e.classList.remove("session-selected")}),4!==s.length){var a=t.previousElementSibling,n=a.querySelector(".session-selected[rowspan]");n&&(n.classList.remove("session-selected"),e.localStorage.setItem(a.dataset.id,""),l(a,"",1))}if(this.attributes.rowspan){var o=t.nextElementSibling,r=o.querySelector(".session-selected");r&&r.classList.remove("session-selected"),l(o,!1,1)}this.classList.add("session-selected"),l(t,this.innerHTML,this.rowSpan),e.localStorage.setItem(t.dataset.id,this.id),i()}function i(){var l="#;";[].forEach.call(t.querySelectorAll("tr[id]"),function(s){var a=e.localStorage.getItem(s.id),i=t.getElementById(a);i&&(l+=s.id+":"+i.id+";")}),t.getElementById("plan-url").value=e.location.protocol+"//"+e.location.host+e.location.pathname+l}function n(){var l=e.location.hash.slice(1),a=t.getElementById(l);if(a)a.classList.add("active"),t.getElementById("link-"+l).classList.add("pure-button-primary"),r&&(t.getElementById("link-"+r).classList.remove("pure-button-primary"),t.getElementById(r).classList.remove("active"));else{if(";"===l.slice(0,1)){var i=l.split(";");delete i[0],delete i[i.length-1],i.forEach(function(e){e=e.split(":");var l=t.getElementById(e[1]);l&&(s(l),o[l.id.slice(0,2)]++)})}if(o.sa&&o.so){var n=new Date;e.location.hash=n.getDate()>=15&&n.getMonth()>=5&&n.getYear()>=2014?"#sonntag":"#samstag"}else e.location.hash="#auswahl"}";"!==l.slice(0,1)&&(r=l)}var o={sa:0,so:0},r;[].forEach.call(t.querySelectorAll(".session"),function(e){e.addEventListener("click",a,!1)}),e.addEventListener("load",function(){[].forEach.call(t.querySelectorAll("tr[id]"),function(l){var a=e.localStorage.getItem(l.id),i=t.getElementById(a);"string"==typeof a&&a&&(o[i.id.slice(0,2)]++,s(i))}),n(),i()},!1),e.addEventListener("hashchange",n)}(window,document);
//# sourceMappingURL=./app.min.map