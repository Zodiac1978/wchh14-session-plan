!function(e,t){function s(s,l,a,i){var n=s.dataset.id,o=t.getElementById(n),c=o.querySelector("td").nextElementSibling;return"boolean"!=typeof l||l?(c||(c=t.createElement("td"),o.appendChild(c)),i&&(i="1"===i?"MarketPress-Saal":"Saal "+i,l+='<span class="saal">'+i+"</span>",console.log(l)),console.log(i),c.rowSpan=a,void(c.innerHTML=l)):(c&&o.removeChild(c),void e.localStorage.setItem(n,""))}function l(e){a.bind(e)()}function a(t){var l=this.parentNode,a=l.querySelectorAll("td");if(t&&this.classList.contains("session-selected"))return this.classList.remove("session-selected"),s(l,"",1),e.localStorage.setItem(l.dataset.id,""),void i();if([].forEach.call(a,function(e){e.classList.remove("session-selected")}),4!==a.length){var n=l.previousElementSibling,o=n.querySelector(".session-selected[rowspan]");o&&(o.classList.remove("session-selected"),e.localStorage.setItem(n.dataset.id,""),s(n,"",1))}if(this.attributes.rowspan){var c=l.nextElementSibling,r=c.querySelector(".session-selected");r&&r.classList.remove("session-selected"),s(c,!1,1)}this.classList.add("session-selected"),s(l,this.innerHTML,this.rowSpan,this.id.slice(-1)),e.localStorage.setItem(l.dataset.id,this.id),i()}function i(){var s="#;";[].forEach.call(t.querySelectorAll("tr[id]"),function(l){var a=e.localStorage.getItem(l.id),i=t.getElementById(a);i&&(s+=l.id+":"+i.id+";")}),t.getElementById("plan-url").value=e.location.protocol+"//"+e.location.host+e.location.pathname+s}function n(){var s=e.location.hash.slice(1),a=t.getElementById(s);if(a)a.classList.add("active"),t.getElementById("link-"+s).classList.add("pure-button-primary"),c&&(t.getElementById("link-"+c).classList.remove("pure-button-primary"),t.getElementById(c).classList.remove("active"));else{if(";"===s.slice(0,1)){var i=s.split(";");delete i[0],delete i[i.length-1],i.forEach(function(e){e=e.split(":");var s=t.getElementById(e[1]);s&&(l(s),o[s.id.slice(0,2)]++)})}if(o.sa&&o.so){var n=new Date;e.location.hash=n.getDate()>=15&&n.getMonth()>=5&&n.getYear()>=2014?"#sonntag":"#samstag"}else e.location.hash="#auswahl"}";"!==s.slice(0,1)&&(c=s)}var o={sa:0,so:0},c;[].forEach.call(t.querySelectorAll(".session"),function(e){e.addEventListener("click",a,!1)}),e.addEventListener("load",function(){[].forEach.call(t.querySelectorAll("tr[id]"),function(s){var a=e.localStorage.getItem(s.id),i=t.getElementById(a);"string"==typeof a&&a&&(o[i.id.slice(0,2)]++,l(i))}),n(),i(),t.getElementById("reset").addEventListener("click",function(){e.localStorage.clear(),e.location.hash="",e.location.reload()})},!1),e.addEventListener("hashchange",n)}(window,document);
//# sourceMappingURL=./app.min.map