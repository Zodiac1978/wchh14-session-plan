!function(e,t){function l(l,a,s,n){var i=l.dataset.id,o=t.getElementById(i),c=o.querySelector("td").nextElementSibling;return"boolean"!=typeof a||a?(c||(c=t.createElement("td"),o.appendChild(c)),n&&(n="1"===n?"MarketPress-Saal":"Saal "+n,a+='<span class="saal">'+n+"</span>",console.log(a)),console.log(n),c.rowSpan=s,void(c.innerHTML=a)):(c&&o.removeChild(c),void e.localStorage.setItem(i,""))}function a(e){s.bind(e)()}function s(){var t=this.parentNode,a=t.querySelectorAll("td");if([].forEach.call(a,function(e){e.classList.remove("session-selected")}),4!==a.length){var s=t.previousElementSibling,i=s.querySelector(".session-selected[rowspan]");i&&(i.classList.remove("session-selected"),e.localStorage.setItem(s.dataset.id,""),l(s,"",1))}if(this.attributes.rowspan){var o=t.nextElementSibling,c=o.querySelector(".session-selected");c&&c.classList.remove("session-selected"),l(o,!1,1)}this.classList.add("session-selected"),l(t,this.innerHTML,this.rowSpan,this.id.slice(-1)),e.localStorage.setItem(t.dataset.id,this.id),n()}function n(){var l="#;";[].forEach.call(t.querySelectorAll("tr[id]"),function(a){var s=e.localStorage.getItem(a.id),n=t.getElementById(s);n&&(l+=a.id+":"+n.id+";")}),t.getElementById("plan-url").value=e.location.protocol+"//"+e.location.host+e.location.pathname+l}function i(){var l=e.location.hash.slice(1),s=t.getElementById(l);if(s)s.classList.add("active"),t.getElementById("link-"+l).classList.add("pure-button-primary"),c&&(t.getElementById("link-"+c).classList.remove("pure-button-primary"),t.getElementById(c).classList.remove("active"));else{if(";"===l.slice(0,1)){var n=l.split(";");delete n[0],delete n[n.length-1],n.forEach(function(e){e=e.split(":");var l=t.getElementById(e[1]);l&&(a(l),o[l.id.slice(0,2)]++)})}if(o.sa&&o.so){var i=new Date;e.location.hash=i.getDate()>=15&&i.getMonth()>=5&&i.getYear()>=2014?"#sonntag":"#samstag"}else e.location.hash="#auswahl"}";"!==l.slice(0,1)&&(c=l)}var o={sa:0,so:0},c;[].forEach.call(t.querySelectorAll(".session"),function(e){e.addEventListener("click",s,!1)}),e.addEventListener("load",function(){[].forEach.call(t.querySelectorAll("tr[id]"),function(l){var s=e.localStorage.getItem(l.id),n=t.getElementById(s);"string"==typeof s&&s&&(o[n.id.slice(0,2)]++,a(n))}),i(),n(),t.getElementById("reset").addEventListener("click",function(){e.localStorage.clear(),e.location.hash="",e.location.reload()})},!1),e.addEventListener("hashchange",i)}(window,document);
//# sourceMappingURL=./app.min.map