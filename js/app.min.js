!function(e,t){function s(s,l,a,n){var i=s.dataset.id,o=t.getElementById(i),r=o.querySelector("td").nextElementSibling;return"boolean"!=typeof l||l?(r||(r=t.createElement("td"),o.appendChild(r)),n&&(n="1"===n?"MarketPress-Saal":"Saal "+n,l+='<span class="saal">'+n+"</span>",console.log(l)),console.log(n),r.rowSpan=a,void(r.innerHTML=l)):(r&&o.removeChild(r),void e.localStorage.setItem(i,""))}function l(e){a.bind(e)()}function a(){var t=this.parentNode,l=t.querySelectorAll("td");if([].forEach.call(l,function(e){e.classList.remove("session-selected")}),4!==l.length){var a=t.previousElementSibling,i=a.querySelector(".session-selected[rowspan]");i&&(i.classList.remove("session-selected"),e.localStorage.setItem(a.dataset.id,""),s(a,"",1))}if(this.attributes.rowspan){var o=t.nextElementSibling,r=o.querySelector(".session-selected");r&&r.classList.remove("session-selected"),s(o,!1,1)}this.classList.add("session-selected"),s(t,this.innerHTML,this.rowSpan,this.id.slice(-1)),e.localStorage.setItem(t.dataset.id,this.id),n()}function n(){var s="#;";[].forEach.call(t.querySelectorAll("tr[id]"),function(l){var a=e.localStorage.getItem(l.id),n=t.getElementById(a);n&&(s+=l.id+":"+n.id+";")}),t.getElementById("plan-url").value=e.location.protocol+"//"+e.location.host+e.location.pathname+s}function i(){var s=e.location.hash.slice(1),a=t.getElementById(s);if(a)a.classList.add("active"),t.getElementById("link-"+s).classList.add("pure-button-primary"),r&&(t.getElementById("link-"+r).classList.remove("pure-button-primary"),t.getElementById(r).classList.remove("active"));else{if(";"===s.slice(0,1)){var n=s.split(";");delete n[0],delete n[n.length-1],n.forEach(function(e){e=e.split(":");var s=t.getElementById(e[1]);s&&(l(s),o[s.id.slice(0,2)]++)})}if(o.sa&&o.so){var i=new Date;e.location.hash=i.getDate()>=15&&i.getMonth()>=5&&i.getYear()>=2014?"#sonntag":"#samstag"}else e.location.hash="#auswahl"}";"!==s.slice(0,1)&&(r=s)}var o={sa:0,so:0},r;[].forEach.call(t.querySelectorAll(".session"),function(e){e.addEventListener("click",a,!1)}),e.addEventListener("load",function(){[].forEach.call(t.querySelectorAll("tr[id]"),function(s){var a=e.localStorage.getItem(s.id),n=t.getElementById(a);"string"==typeof a&&a&&(o[n.id.slice(0,2)]++,l(n))}),i(),n()},!1),e.addEventListener("hashchange",i)}(window,document);
//# sourceMappingURL=./app.min.map