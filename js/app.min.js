!function(e,t){function s(s,l,n){var a=s.dataset.id,i=t.getElementById(a),o=i.querySelector("td").nextElementSibling;return"boolean"!=typeof l||l?(console.log(s,l,n,a,i,o),o||(o=t.createElement("td"),i.appendChild(o)),o.rowSpan=n,void(o.innerHTML=l)):(i.removeChild(o),void e.localStorage.setItem(a,""))}function l(){var t=this.parentNode,l=t.querySelectorAll("td");if([].forEach.call(l,function(e){e.classList.remove("session-selected")}),4!==l.length){var a=t.previousElementSibling,i=a.querySelector(".session-selected[rowspan]");i&&(i.classList.remove("session-selected"),s(a,"",1))}if(this.attributes.rowspan){var o=t.nextElementSibling,r=o.querySelector(".session-selected");r&&r.classList.remove("session-selected"),s(o,!1,1)}this.classList.add("session-selected"),s(t,this.innerHTML,this.rowSpan),e.localStorage.setItem(t.dataset.id,this.id),n()}function n(){var s="#;";[].forEach.call(t.querySelectorAll("tr[id]"),function(l){var n=e.localStorage.getItem(l.id),a=t.getElementById(n);a&&(s+=l.id+":"+a.id+";")}),t.getElementById("plan-url").value=e.location.protocol+"//"+e.location.host+e.location.pathname+s}function a(){var l=e.location.hash.slice(1),n=t.getElementById(l);if(n)n.classList.add("active"),t.getElementById("link-"+l).classList.add("pure-button-primary"),o&&(t.getElementById("link-"+o).classList.remove("pure-button-primary"),t.getElementById(o).classList.remove("active"));else{if(";"===l.slice(0,1)){var a=l.split(";");delete a[0],delete a[a.length-1],a.forEach(function(l){l=l.split(":");var n=t.getElementById(l[1]),a=n.parentNode;n&&(i[l[1].slice(0,2)]++,n.classList.add("session-selected"),e.localStorage.setItem(l[0],l[1]),s(a,n.innerHTML,n.rowSpan))})}if(i.sa&&i.so){var r=new Date;e.location.hash=r.getDate()>=15&&r.getMonth()>=5&&r.getYear()>=2014?"#sonntag":"#samstag"}else e.location.hash="#auswahl"}o=l}var i={sa:0,so:0},o;[].forEach.call(t.querySelectorAll(".session"),function(e){e.addEventListener("click",l,!1)}),e.addEventListener("load",function(){[].forEach.call(t.querySelectorAll("tr[id]"),function(l){var n=e.localStorage.getItem(l.id),a=t.getElementById(n);if("string"==typeof n){if(!n)return void l.removeChild(l.querySelector("td").nextElementSibling);i[n.slice(0,2)]++,a.classList.add("session-selected"),s(a.parentNode,a.innerHTML,a.rowSpan)}}),a(),n()},!1),e.addEventListener("hashchange",a)}(window,document);
//# sourceMappingURL=./app.min.map