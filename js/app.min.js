!function(e,t){function s(s,n,l){var i=s.dataset.id,a=t.getElementById(i),o=a.querySelector("td").nextElementSibling;return"boolean"!=typeof n||n?(o||(o=new Element("td"),a.appendChild(o)),o.rowSpan=l,void(o.innerHTML=n)):(a.removeChild(o),void e.localStorage.setItem(i,""))}function n(){var t=this.parentNode,n=t.querySelectorAll("td");if([].forEach.call(n,function(e){e.classList.remove("session-selected")}),4!==n.length){var i=t.previousElementSibling,a=i.querySelector(".session-selected[rowspan]");a&&(a.classList.remove("session-selected"),s(i,"",1))}if(this.attributes.rowspan){var o=t.nextElementSibling,r=o.querySelector(".session-selected");r&&r.classList.remove("session-selected"),s(o,!1,1)}this.classList.add("session-selected"),s(t,this.innerHTML,this.rowSpan),e.localStorage.setItem(t.dataset.id,this.id),l()}function l(){var s="#;";[].forEach.call(t.querySelectorAll("tr[id]"),function(n){var l=e.localStorage.getItem(n.id),i=t.getElementById(l);i&&(s+=n.id+":"+i.id+";")}),t.getElementById("plan-url").value=e.location.protocol+"//"+e.location.host+e.location.pathname+s}function i(){var n=e.location.hash.slice(1),l=t.getElementById(n);if(l)l.classList.add("active"),t.getElementById("link-"+n).classList.add("pure-button-primary"),o&&(t.getElementById("link-"+o).classList.remove("pure-button-primary"),t.getElementById(o).classList.remove("active"));else{if(";"===n.slice(0,1)){var i=n.split(";");delete i[0],delete i[i.length-1],i.forEach(function(n){n=n.split(":");var l=t.getElementById(n[1]),i=l.parentNode;l&&(a[n[1].slice(0,2)]++,l.classList.add("session-selected"),e.localStorage.setItem(n[0],n[1]),s(i,l.innerHTML,l.rowSpan))})}if(a.sa&&a.so){var r=new Date;e.location.hash=r.getDate()>=15&&r.getMonth()>=5&&r.getYear()>=2014?"#sonntag":"#samstag"}else e.location.hash="#auswahl"}o=n}var a={sa:0,so:0},o;[].forEach.call(t.querySelectorAll(".session"),function(e){e.addEventListener("click",n,!1)}),e.addEventListener("load",function(){[].forEach.call(t.querySelectorAll("tr[id]"),function(n){var l=e.localStorage.getItem(n.id),i=t.getElementById(l);if("string"==typeof l){if(!l)return void n.removeChild(n.querySelector("td").nextElementSibling);a[l.slice(0,2)]++,i.classList.add("session-selected"),s(i.parentNode,i.innerHTML,i.rowSpan)}}),i(),l()},!1),e.addEventListener("hashchange",i)}(window,document);
//# sourceMappingURL=./app.min.map